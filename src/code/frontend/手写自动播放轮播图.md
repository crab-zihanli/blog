---
title: 【造个轮子】写个简单展示用的自动播放轮播图
shortTitle: 自动播放轮播图
date: 2025-05-14
category: 
- coding
- frontend
tag:
- vue
- js
---

> 通过`vue3.js`语法写了一个非常简单的自动播放内容的组件，支持悬停后停止播放，更清楚的展示效果。

<!-- more -->

在搭建自己的博客时，想要一个自动播放展示自己兴趣爱好（装一下）的轮播图效果，虽然市面上好多现成的组件，不过因为我部署到github静态页面，一直怕把内容搞多了，而且我要的功能很简单（且大概率不会复用，需要的时候再改吧），因此准备自己手搓一个，实现的效果如下图所示：

![我做的运动爱好展示效果](../../.vuepress/public/assets/images/hobbies.gif)

## 自定义组件与使用

在`vuepress-theme-hope`官网已经提供了[组件注册的方法](https://theme-hope.vuejs.press/zh/guide/component/sfc.html#doc-changelog)，这里不再重复赘述，我采用的方法是在`.vuepress/components/HobbyCarousel.vue`创建了这个自定义组件，然后去`config.ts`进行了**别名**的配置，因为我实在搞不懂路径（Bushi），反正这样做了之后非常稳妥！

```ts
// src/.vuepress/config.ts
import { getDirname, path } from "vuepress/utils";
const __dirname = getDirname(import.meta.url);
export default defineUserConfig({
  alias: {
    "@HobbyCarousel": path.resolve(__dirname, "components/HobbyCarousel.vue"),
  },
})
```
在页面中即`md`文件的使用相对来说不难，我采用了**局部注册**的方式，如果想要在多个页面都用，也可以全局注册。这里的核心思想是`vuepress`会将你写的这些`md`编译为`HTML`，然后再转为`Vue SFC`，因此这里直接跟写`Vue`一样用就可以，比如我的：
```md
## 啥都爱探索点的运动爱好
<HobbyCarousel/>
<!-- 我这里直接默认了，其实后面设置了参数，可以自定义的 -->

<script setup>
  import HobbyCarousel from "@HobbyCarousel";//一个文件就写一个script哦！
</script>
```

## 轮播图组件的实现

### 1. `HTML`结构搭建

### 2. 效果好的`requestAnimationFrame()`动画方法

### 3. 页面美化（两侧的遮罩）